% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getRelAbundancesByGenusAndVariable.R
\name{getRelAbundancesByGenusAndVariable}
\alias{getRelAbundancesByGenusAndVariable}
\title{Compute Relative Abundances by Genus and Condition}
\usage{
getRelAbundancesByGenusAndVariable(
  phobj,
  variable = "Condition",
  outname = "prevalence_by_genus.tsv",
  oldlevs = c("Control", "Depression")
)
}
\arguments{
\item{phobj}{A phyloseq object containing microbiome data.}

\item{variable}{A character string specifying the sample metadata variable used to define groups (e.g., "Condition"). Default: 'Condition'}

\item{outname}{Output filename for saving the resulting summary table as a TSV. Set to "" to avoid saving. Default: 'prevalence_by_genus.tsv'}

\item{oldlevs}{A character vector of the two levels of the grouping variable (e.g., c("Control", "Depression")). These will be internally recoded to 'no' and 'yes' for comparison. Default: c("Control", "Depression")}
}
\value{
A data frame with genus-level statistics: abundance, prevalence, and relative prevalence for each group, as well as total values. Optionally, this data frame is written to a TSV file.
}
\description{
Computes and summarizes relative abundance and prevalence statistics by genus across groups defined by a sample metadata variable (e.g., Condition). Outputs a table summarizing genus-level abundance and prevalence metrics.
}
\details{
This function aggregates ASV-level abundances to genus level,
then calculates the number of samples in which each genus is detected (prevalence),
its mean abundance, and the relative prevalence within and across conditions.
The relative prevalence is defined as the fraction of samples in which the genus is present.
The function assumes the input \code{phobj} is a valid \code{phyloseq} object with taxonomy, abundance, and sample metadata included.
}
\examples{
\dontrun{
if(interactive()){
 #EXAMPLE1
 }
}
}
\seealso{
\code{\link[dplyr]{summarise}}, \code{\link[dplyr]{mutate}}
\code{\link[tidyr]{gather}}, \code{\link[tidyr]{spread}}
}
