% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/testDiversityDifferences.R
\name{testDiversityDifferences}
\alias{testDiversityDifferences}
\title{Test Differences in Alpha Diversity Indices Across Groups}
\usage{
testDiversityDifferences(
  divtab,
  vars,
  groupvars,
  outdir,
  name = "alpha_diversity"
)
}
\arguments{
\item{divtab}{A \code{data.frame} containing alpha diversity indices (or other numeric variables) as columns,
and grouping variables as additional columns.}

\item{vars}{A character vector with the names of the numeric variables in \code{divtab} to be tested
(e.g., \code{c("Shannon", "Chao1")}).}

\item{groupvars}{A character vector with the names of the categorical grouping variables in \code{divtab}.}

\item{outdir}{Path to the output directory where the results table will be saved.}

\item{name}{Prefix for the output filename (TSV table), Default: \code{"alpha_diversity"}.}
}
\value{
A \code{data.frame} with the results of the statistical tests for each numeric variable–grouping variable
combination. Columns include:
\itemize{
\item \code{variable} – Name of the numeric variable tested.
\item \code{groups} – Name of the grouping variable.
\item \code{comparison} – "all" for overall tests, or pairwise group comparisons.
\item \code{anova_F}, \code{anova_p} – One-way ANOVA F-statistic and p-value.
\item \code{t_test}, \code{wilcox_test} – p-values for t-test and Wilcoxon rank-sum test (two groups only).
\item \code{shapiro_normality_test} – p-value from Shapiro-Wilk normality test.
\item \code{bartlett_test}, \code{levene_test} – p-values for homogeneity of variance tests.
\item \code{t_corrected}, \code{wilcox_corrected} – Benjamini–Hochberg adjusted p-values.
}
}
\description{
Performs statistical tests to compare alpha diversity indices (or other numeric variables)
across one or more grouping (categorical) variables.
}
\details{
For each numeric variable in \code{vars} and each categorical grouping variable in \code{groupvars}:
\enumerate{
\item Performs one-way ANOVA to test overall differences.
\item If the grouping variable has exactly two levels:
\itemize{
\item Performs Student's t-test.
\item Performs Wilcoxon rank-sum test.
}
\item Checks assumptions:
\itemize{
\item Shapiro–Wilk test for normality.
\item Bartlett’s and Levene’s tests for homogeneity of variance.
}
\item If the grouping variable has more than two levels:
\itemize{
\item Performs all pairwise t-tests and Wilcoxon tests using
\code{\link{getTestsForAllCombinations}}.
}
}
The results are saved as a TSV file and also returned as a \code{data.frame}.
}
\examples{
\dontrun{
if(interactive()){
  res <- testDiversityDifferences(
    divtab = alpha_div_table,
    vars = c("Shannon", "Chao1"),
    groupvars = c("Sex", "Treatment"),
    outdir = "results/",
    name = "diversity_stats"
  )
}
}

}
\seealso{
\code{\link[stats]{aov}},
\code{\link[stats]{t.test}},
\code{\link[stats]{wilcox.test}},
\code{\link[stats]{shapiro.test}},
\code{\link[stats]{bartlett.test}},
\code{\link[car]{leveneTest}},
\code{\link[stats]{p.adjust}},
\code{\link[readr]{write_tsv}},
\code{\link{getTestsForAllCombinations}}
}
