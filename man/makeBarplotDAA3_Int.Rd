% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/makeBarplotDAA3_Int.R
\name{makeBarplotDAA3_Int}
\alias{makeBarplotDAA3_Int}
\title{Barplot Visualization of Differential Abundance Analysis Results}
\usage{
makeBarplotDAA3_Int(
  daalist,
  outdir,
  plim = 0.05,
  name = "",
  cond_names = list()
)
}
\arguments{
\item{daalist}{A named list of data.frames, each representing a DAA result for one contrast.
Each data.frame must contain columns: \code{taxon}, \code{log2FoldChangeShrink}, and \code{padj}.}

\item{outdir}{Character string specifying the directory where output plots and tables will be saved.}

\item{plim}{Numeric value for adjusted p-value cutoff used to determine significance. Default is 0.05.}

\item{name}{Character string prefix for output filenames. Default is an empty string.}

\item{cond_names}{Character vector or list of adjusted p-value column names used internally to evaluate significance across contrasts.
If empty (default), names are derived from \code{daalist}.}
}
\value{
A list containing:
\item{plots}{A named list of ggplot objects for different significance subsets.}
\item{tab}{A data.frame with merged DAA results and added significance flags.}
}
\description{
Generates barplots of log2 fold changes from differential abundance analyses (DAA) across multiple contrasts,
highlighting taxa that pass specific significance thresholds under different model adjustments.
}
\details{
The function merges multiple DAA results, reshapes the data, and creates barplots of log2 fold changes for taxa.
It identifies taxa significant under different model conditions:
\itemize{
\item \code{AllSig}: significant in all contrasts.
\item \code{CondAdjusted}: significant in the first two contrasts.
\item \code{CondOnly}: significant only in the first contrast.
\item \code{CondAdjustedOnly}: significant only in the second contrast.
\item \code{BMIAdjusted}: significant only after BMI adjustment.
}
The plots are saved as PDF files in \code{outdir}, and a TSV table with results is also written.
}
\examples{
\dontrun{
if(interactive()){
  # Example usage assuming daalist contains differential abundance result data.frames:
  # daalist <- list(
  #   "D_vs_C" = daa_res1,
  #   "D_vs_C_adj" = daa_res2,
  #   "BMI" = daa_res3,
  #   "BMI_adj" = daa_res4
  # )
  # makeBarplotDAA3_Int(daalist, outdir = "results/", plim = 0.05, name = "example")
}
}
}
\seealso{
\code{\link[dplyr]{select}}, \code{\link[dplyr]{mutate}}, \code{\link[dplyr]{filter}},
\code{\link[tidyr]{unite}}, \code{\link[tidyr]{spread}}, \code{\link[cowplot]{plot_grid}}
}
